<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">    <title>仪表板 - FinLoom</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/web/assets/modern-finance.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><i class="fas fa-chart-line"></i> <span class="menu-text">FinLoom</span></h1>
                <button class="menu-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav class="sidebar-menu">
                <a href="/" class="menu-item active">
                    <i class="fas fa-tachometer-alt"></i>
                    <span class="menu-text">仪表板</span>
                </a>
                <a href="/web/pages/analysis.html" class="menu-item">
                    <i class="fas fa-brain"></i>
                    <span class="menu-text">智能分析</span>
                </a>
                <a href="/web/pages/portfolio.html" class="menu-item">
                    <i class="fas fa-briefcase"></i>
                    <span class="menu-text">投资组合</span>
                </a>
                <a href="/web/pages/backtest.html" class="menu-item">
                    <i class="fas fa-history"></i>
                    <span class="menu-text">策略回测</span>
                </a>
                <a href="/web/pages/data.html" class="menu-item">
                    <i class="fas fa-database"></i>
                    <span class="menu-text">数据管理</span>
                </a>
                <a href="/web/pages/reports.html" class="menu-item">
                    <i class="fas fa-file-alt"></i>
                    <span class="menu-text">报告中心</span>
                </a>
                <a href="/web/pages/settings.html" class="menu-item">
                    <i class="fas fa-cog"></i>
                    <span class="menu-text">系统设置</span>
                </a>
            </nav>
        </aside>

        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 顶部导航 -->
            <header class="header">
                <div class="header-left">
                    <div class="breadcrumb">
                        <span class="breadcrumb-item"><a href="/">首页</a></span>
                        <span class="breadcrumb-divider">/</span>
                        <span class="breadcrumb-item active">仪表板</span>
                    </div>
                    <div class="page-title">
                        <h2>投资仪表板</h2>
                        <p class="page-subtitle">实时监控您的投资组合表现和市场动态</p>
                    </div>
                </div>
                <div class="header-right">
                    <div class="header-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="搜索股票、策略...">
                        </div>
                        <button class="btn btn-outline btn-sm">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">3</span>
                        </button>
                        <button class="btn btn-outline btn-sm">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="user-profile">
                        <div class="user-avatar">
                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiMyNTYzZWIiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik04IDhDMTAuMjA5MSA4IDEyIDYuMjA5MTQgMTIgNEMxMiAxLjc5MDg2IDEwLjIwOTEgMCA4IDBDNS43OTA4NiAwIDQgMS43OTA4NiA0IDRDNCw2LjIwOTE0IDUuNzkwODYgOCA4IDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNOCAxMEM0LjY4NjI5IDEwIDIgMTIuNjg2MyAyIDE2SDE0QzE0IDEyLjY4NjMgMTEuMzEzNyAxMCA4IDEwWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cjwvc3ZnPgo=" alt="用户头像">
                        </div>
                        <div class="user-info">
                            <div class="user-name">张投资</div>
                            <div class="user-role">高级投资者</div>
                        </div>
                        <button class="user-menu-toggle">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                </div>
            </header>

            <!-- 页面内容 -->
            <div class="content">

                <!-- 关键指标 -->
                <div class="grid grid-cols-4">
                    <div class="stat-card primary">
                        <div class="label"><i class="fas fa-wallet"></i> 总资产</div>
                        <div class="value">¥1,250,000</div>
                        <div class="trend up"><i class="fas fa-arrow-up"></i> +2.5% 今日</div>
                    </div>
                    <div class="stat-card success">
                        <div class="label"><i class="fas fa-chart-line"></i> 今日收益</div>
                        <div class="value">¥31,250</div>
                        <div class="trend up"><i class="fas fa-arrow-up"></i> +1.8% 今日</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="label"><i class="fas fa-balance-scale"></i> 夏普比率</div>
                        <div class="value">1.85</div>
                        <div class="trend up"><i class="fas fa-arrow-up"></i> +0.15 本周</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="label"><i class="fas fa-shield-alt"></i> 最大回撤</div>
                        <div class="value">-2.3%</div>
                        <div class="trend down"><i class="fas fa-arrow-down"></i> -0.5% 本月</div>
                    </div>
                </div>

                <!-- 图表区域 -->
                <div class="grid grid-cols-2" style="margin-top: 24px;">
                    <div class="card">
                        <div class="card-header">
                            <h3>资产净值曲线</h3>
                            <div class="time-selector">
                                <button class="btn btn-sm">1个月</button>
                                <button class="btn btn-sm active">3个月</button>
                                <button class="btn btn-sm">1年</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="equityChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>持仓分布</h3>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="portfolioChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 市场概览和持仓 -->
                <div class="grid grid-cols-2" style="margin-top: 24px;">
                    <div class="card">
                        <div class="card-header">
                            <h3>市场概览</h3>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>指数</th>
                                            <th>最新价</th>
                                            <th>涨跌幅</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>上证指数</td>
                                            <td>3,245.67</td>
                                            <td class="text-success">+1.2%</td>
                                        </tr>
                                        <tr>
                                            <td>深证成指</td>
                                            <td>12,456.78</td>
                                            <td class="text-success">+0.8%</td>
                                        </tr>
                                        <tr>
                                            <td>创业板指</td>
                                            <td>2,345.67</td>
                                            <td class="text-danger">-0.5%</td>
                                        </tr>
                                        <tr>
                                            <td>沪深300</td>
                                            <td>4,123.45</td>
                                            <td class="text-success">+0.9%</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>当前持仓</h3>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>股票</th>
                                            <th>持仓数量</th>
                                            <th>当前价</th>
                                            <th>盈亏</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>000001 平安银行</td>
                                            <td>1,000</td>
                                            <td>¥12.45</td>
                                            <td class="text-success">+3.75%</td>
                                        </tr>
                                        <tr>
                                            <td>600036 招商银行</td>
                                            <td>500</td>
                                            <td>¥45.67</td>
                                            <td class="text-success">+1.49%</td>
                                        </tr>
                                        <tr>
                                            <td>601318 中国平安</td>
                                            <td>200</td>
                                            <td>¥56.78</td>
                                            <td class="text-success">+3.24%</td>
                                        </tr>
                                        <tr>
                                            <td>000858 五粮液</td>
                                            <td>100</td>
                                            <td>¥185.50</td>
                                            <td class="text-success">+2.85%</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // 初始化图表
        document.addEventListener('DOMContentLoaded', function() {
            // 资产净值图表
            const equityCtx = document.getElementById('equityChart').getContext('2d');
            const equityChart = new Chart(equityCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                    datasets: [{
                        label: '资产净值',
                        data: [1000000, 1050000, 1100000, 1080000, 1150000, 1250000],
                        borderColor: '#2563eb',
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });

            // 持仓分布图表
            const portfolioCtx = document.getElementById('portfolioChart').getContext('2d');
            const portfolioChart = new Chart(portfolioCtx, {
                type: 'doughnut',
                data: {
                    labels: ['银行股', '科技股', '消费股', '医药股', '其他'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#2563eb',
                            '#ef4444',
                            '#f59e0b',
                            '#10b981',
                            '#8b5cf6'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    },
                    cutout: '70%'
                }
            });

            // 侧边栏切换
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.querySelector('.sidebar');
            
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('collapsed');
            });
        });
    </script>
</body>
</html>