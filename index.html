<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinLoom - 智能量化投资平台</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="./web/assets/modern-finance.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><i class="fas fa-chart-line"></i> <span class="menu-text">FinLoom</span></h1>
                <button class="menu-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav class="sidebar-menu">
                <a href="./web/pages/dashboard.html" class="menu-item active">
                    <i class="fas fa-tachometer-alt"></i>
                    <span class="menu-text">仪表板</span>
                </a>
                <a href="./web/pages/analysis.html" class="menu-item">
                    <i class="fas fa-brain"></i>
                    <span class="menu-text">智能分析</span>
                </a>
                <a href="./web/pages/portfolio.html" class="menu-item">
                    <i class="fas fa-briefcase"></i>
                    <span class="menu-text">投资组合</span>
                </a>
                <a href="./web/pages/backtest.html" class="menu-item">
                    <i class="fas fa-history"></i>
                    <span class="menu-text">策略回测</span>
                </a>
                <a href="./web/pages/data.html" class="menu-item">
                    <i class="fas fa-database"></i>
                    <span class="menu-text">数据管理</span>
                </a>
                <a href="./web/pages/reports.html" class="menu-item">
                    <i class="fas fa-file-alt"></i>
                    <span class="menu-text">报告中心</span>
                </a>
                <a href="./web/pages/settings.html" class="menu-item">
                    <i class="fas fa-cog"></i>
                    <span class="menu-text">系统设置</span>
                </a>
            </nav>
        </aside>

        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 顶部导航 -->
            <header class="header">
                <div class="header-left">
                    <h2>投资仪表板</h2>
                </div>
                <div class="header-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="搜索股票、策略...">
                    </div>
                    <div class="user-profile">
                        <div class="user-avatar">U</div>
                        <div class="user-info">
                            <div class="user-name">用户姓名</div>
                            <div class="user-role">专业投资者</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 页面内容 -->
            <div class="content">
                <div class="page-header">
                    <h1>欢迎回来</h1>
                    <p>今日市场表现良好，您的投资组合表现优于基准。</p>
                </div>

                <!-- 统计卡片 -->
                <div class="card-grid">
                    <div class="metric-card">
                        <div class="label">总资产</div>
                        <div class="value">¥1,250,000</div>
                        <div class="trend up">
                            <i class="fas fa-arrow-up"></i>
                            +2.5% 今日
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="label">今日收益</div>
                        <div class="value">¥31,250</div>
                        <div class="trend up">
                            <i class="fas fa-arrow-up"></i>
                            +1.8% 今日
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="label">夏普比率</div>
                        <div class="value">1.85</div>
                        <div class="trend up">
                            <i class="fas fa-arrow-up"></i>
                            +0.15 本周
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="label">最大回撤</div>
                        <div class="value">-2.3%</div>
                        <div class="trend down">
                            <i class="fas fa-arrow-down"></i>
                            -0.5% 本月
                        </div>
                    </div>
                </div>

                <!-- 图表区域 -->
                <div class="grid grid-cols-2" style="margin-top: 24px;">
                    <div class="card">
                        <div class="card-header">
                            <h3>资产净值曲线</h3>
                            <div class="time-selector">
                                <button class="btn btn-sm">1个月</button>
                                <button class="btn btn-sm active">3个月</button>
                                <button class="btn btn-sm">1年</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="equityChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>持仓分布</h3>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="portfolioChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 最近交易 -->
                <div class="card" style="margin-top: 24px;">
                    <div class="card-header">
                        <h3>最近交易</h3>
                        <button class="btn btn-sm btn-outline">
                            <i class="fas fa-sync-alt"></i> 刷新
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>时间</th>
                                        <th>标的</th>
                                        <th>操作</th>
                                        <th>数量</th>
                                        <th>价格</th>
                                        <th>盈亏</th>
                                        <th>状态</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2024-01-15 14:30</td>
                                        <td>000001</td>
                                        <td><span class="badge badge-success">买入</span></td>
                                        <td>1,000</td>
                                        <td>¥12.45</td>
                                        <td class="text-success">+¥1,250</td>
                                        <td><span class="badge badge-primary">已成交</span></td>
                                    </tr>
                                    <tr>
                                        <td>2024-01-15 10:15</td>
                                        <td>600036</td>
                                        <td><span class="badge badge-danger">卖出</span></td>
                                        <td>500</td>
                                        <td>¥45.67</td>
                                        <td class="text-danger">-¥230</td>
                                        <td><span class="badge badge-primary">已成交</span></td>
                                    </tr>
                                    <tr>
                                        <td>2024-01-14 15:45</td>
                                        <td>601318</td>
                                        <td><span class="badge badge-success">买入</span></td>
                                        <td>200</td>
                                        <td>¥56.78</td>
                                        <td>-</td>
                                        <td><span class="badge badge-primary">已成交</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // 初始化图表
        document.addEventListener('DOMContentLoaded', function() {
            // 资产净值图表
            const equityCtx = document.getElementById('equityChart').getContext('2d');
            const equityChart = new Chart(equityCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                    datasets: [{
                        label: '资产净值',
                        data: [1000000, 1050000, 1100000, 1080000, 1150000, 1250000],
                        borderColor: '#2563eb',
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });

            // 持仓分布图表
            const portfolioCtx = document.getElementById('portfolioChart').getContext('2d');
            const portfolioChart = new Chart(portfolioCtx, {
                type: 'doughnut',
                data: {
                    labels: ['银行股', '科技股', '消费股', '医药股', '其他'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#2563eb',
                            '#ef4444',
                            '#f59e0b',
                            '#10b981',
                            '#8b5cf6'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    },
                    cutout: '70%'
                }
            });

            // 侧边栏切换
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.querySelector('.sidebar');
            
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('collapsed');
            });
        });
    </script>
</body>
</html>