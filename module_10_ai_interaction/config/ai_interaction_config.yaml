# Module 10 - AI交互模块配置文件

# FIN-R1模型配置
fin_r1:
  model_path: ".Fin-R1"  # 模型路径
  device: "cpu"  # 使用设备: cpu/cuda
  batch_size: 32
  max_length: 512
  temperature: 0.7
  confidence_threshold: 0.6

# NLP处理器配置
nlp:
  language: "zh-CN"
  use_pos_tagging: false
  keyword_top_k: 10
  keyword_method: "tfidf"  # tfidf/textrank
  sentiment_domain: "finance"

# 意图分类器配置
intent_classifier:
  confidence_threshold: 0.5
  context_window: 3
  fallback_intent: "unknown"

# 对话管理器配置
dialogue:
  max_history_length: 50
  session_timeout: 3600  # 秒
  enable_context_tracking: true
  auto_save_session: true
  clarification_max_attempts: 3

# 需求解析器配置
requirement_parser:
  default_risk_tolerance: "moderate"
  default_investment_horizon: "medium_term"
  default_goal: "wealth_growth"
  auto_fill_missing: true

# 参数映射器配置
parameter_mapper:
  strict_validation: true
  auto_normalize: true
  allow_partial_mapping: false

# 响应生成器配置
response_generator:
  default_tone: "formal"  # formal/casual/friendly
  max_response_length: 500
  enable_personalization: true
  default_format: "text"  # text/markdown/html

# 推荐引擎配置
recommendation:
  max_recommendations: 3
  min_confidence_score: 0.6
  enable_alternatives: true
  personalization_weight: 0.3

# 对话历史配置
conversation_history:
  storage_type: "sqlite"  # sqlite/json/memory
  storage_path: "./data/conversation_history"
  cache_size: 100
  auto_export: false
  retention_days: 90

# 数据库配置
database:
  db_path: "data/module10_ai_interaction.db"
  auto_backup: true
  backup_interval: 86400  # 秒
  max_backup_count: 7

# 集成配置
integration:
  # 其他模块配置
  module_01_data_pipeline:
    enabled: true
  module_02_feature_engineering:
    enabled: true
  module_03_ai_models:
    enabled: true
  module_04_market_analysis:
    enabled: true
  module_05_risk_management:
    enabled: true
  module_07_optimization:
    enabled: true
  module_08_execution:
    enabled: true
  module_09_backtesting:
    enabled: true

# 日志配置
logging:
  level: "INFO"  # DEBUG/INFO/WARNING/ERROR
  log_intent_classification: true
  log_parameter_mapping: true
  log_fin_r1_calls: true
  log_session_events: true

# 性能配置
performance:
  enable_caching: true
  cache_ttl: 3600  # 秒
  max_concurrent_sessions: 100
  request_timeout: 30  # 秒
  
# 安全配置
security:
  enable_input_validation: true
  max_input_length: 1000
  sanitize_input: true
  rate_limit_per_user: 60  # 每分钟请求数
